<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Yara Baptist Church - Men Department</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;padding:0;font-family:"Poppins",Arial,sans-serif;background:linear-gradient(135deg,#002b5c,#004aad,#0066cc);color:#fff;}
header{background:rgba(0,0,0,0.35);padding:20px;text-align:center;backdrop-filter:blur(5px);}
header h2{margin:0;font-size:36px;}
nav a{color:#fff;text-decoration:none;margin:0 15px;font-size:18px;padding:8px 14px;border-radius:8px;transition:0.3s;}
nav a:hover{background:rgba(255,255,255,0.2);}
.container{max-width:1000px;margin:50px auto;padding:0 20px;text-align:center;}
.content-box{background:rgba(255,255,255,0.15);padding:20px;border-radius:15px;line-height:1.6em;margin-bottom:20px;}
.events, .announcements, .registration{margin:30px auto;padding:20px;border-radius:15px;background:rgba(255,255,255,0.15);}
.events h3,.announcements h3,.registration h3{text-align:center;margin-bottom:15px;}
.event-cards{display:flex;flex-wrap:wrap;justify-content:center;gap:15px;}
.event-card{background:rgba(255,255,255,0.25);padding:15px;border-radius:15px;width:220px;transition:0.3s;text-align:center;}
.event-card:hover{background:rgba(255,255,255,0.35);transform:scale(1.05);}
input,textarea{padding:8px;border-radius:5px;border:none;margin:5px 0;width:90%;}
button{padding:8px 15px;border:none;border-radius:5px;background:#ffd700;cursor:pointer;margin-top:5px;}
footer{text-align:center;margin-top:50px;font-size:15px;opacity:0.6;}
@media(max-width:768px){.event-cards{flex-direction:column;align-items:center;}}
</style>
</head>
<body>

<header>
<h2>YARA BAPTIST CHURCH</h2>
<nav>
<a href="index.html">Home</a>
<a href="departments.html">Departments</a>
<a href="men.html">Men</a>
<a href="attendance.html">Attendance</a>
</nav>
</header>

<div class="container">
<h2 class="section-title">Men Department</h2>

<div class="content-box">
<h3>Purpose</h3>
<p>Bringing men together for fellowship, leadership, growth, and service in the church.</p>
</div>

<div class="content-box">
<h3>Weekly Meetings</h3>
<p>Every Sunday immediately after the main service.</p>
</div>

<!-- MEMBER REGISTRATION -->
<div class="registration">
<h3>Register as a Men Member</h3>
<input type="text" id="memberName" placeholder="Full Name"><br>
<input type="date" id="memberDOB" placeholder="Date of Birth"><br>
<input type="text" id="memberID" placeholder="National ID Number"><br>
<button onclick="registerMember()">Register</button>

<h3 style="margin-top:20px;">Registered Members</h3>
<div id="memberList"></div>
</div>

<!-- ANNOUNCEMENTS -->
<div class="announcements">
<h3>Announcements</h3>
<textarea id="announcementInput" placeholder="Add an announcement"></textarea><br>
<button onclick="addAnnouncement()">Add Announcement</button>
<div id="announcementList" style="margin-top:15px;"></div>
</div>

<!-- EVENTS -->
<div class="events">
<h3>Upcoming Events</h3>
<input type="text" id="eventTitle" placeholder="Event Title"><br>
<input type="text" id="eventTime" placeholder="Event Time / Date"><br>
<button onclick="addEvent()">Add Event</button>
<div class="event-cards" id="eventCards"></div>
<button onclick="sendToHome()" style="background:#00ff7f;color:#000;margin-top:15px;">Send Selected Events to Home Page</button>
</div>

</div>

<footer>&copy; 2025 Yara Baptist Church — Growing in Grace ✝️</footer>

<script>
/* ============= MEMBER REGISTRATION (SAVED FOREVER) ============= */
function registerMember(){
    const name = document.getElementById("memberName").value.trim();
    const dob = document.getElementById("memberDOB").value.trim();
    const id = document.getElementById("memberID").value.trim();

    if(!name || !dob || !id){
        alert("All fields are required.");
        return;
    }

    let menMembers = JSON.parse(localStorage.getItem("menMembers")) || [];
    menMembers.push({name, dob, id});
    localStorage.setItem("menMembers", JSON.stringify(menMembers));

    alert("Member registered!");
    renderMembers();
    document.getElementById("memberName").value="";
    document.getElementById("memberDOB").value="";
    document.getElementById("memberID").value="";
}

function renderMembers(){
    let menMembers = JSON.parse(localStorage.getItem("menMembers")) || [];
    const list = document.getElementById("memberList");
    list.innerHTML = "";

    menMembers.forEach((m,i)=>{
        const div = document.createElement("div");
        div.style.background="rgba(255,255,255,0.2)";
        div.style.padding="10px";
        div.style.marginBottom="10px";
        div.style.borderRadius="8px";
        div.innerHTML = `${m.name} (ID: ${m.id})`;
        list.appendChild(div);
    });
}
renderMembers();

/* ============= ANNOUNCEMENTS (SAVED FOREVER) ============= */
let announcements = JSON.parse(localStorage.getItem("menAnnouncements")) || [];
const announcementList = document.getElementById("announcementList");

function renderAnnouncements(){
    announcementList.innerHTML="";
    announcements.forEach((ann,index)=>{
        const div=document.createElement("div");
        div.style.background="rgba(255,255,255,0.2)";
        div.style.padding="10px";
        div.style.marginBottom="10px";
        div.style.borderRadius="8px";
        div.innerHTML=
        `${ann}
        <button onclick="removeAnnouncement(${index})" style="background:red;color:white;padding:3px 8px;border:none;border-radius:5px;float:right;">Remove</button>`;
        
        announcementList.appendChild(div);
    });
}
renderAnnouncements();

function addAnnouncement(){
    const text=document.getElementById("announcementInput").value.trim();
    if(text){
        announcements.push(text);
        localStorage.setItem("menAnnouncements", JSON.stringify(announcements));
        document.getElementById("announcementInput").value="";
        renderAnnouncements();
    } else alert("Enter announcement text");
}

function removeAnnouncement(index){
    announcements.splice(index,1);
    localStorage.setItem("menAnnouncements", JSON.stringify(announcements));
    renderAnnouncements();
}

/* ============= EVENTS (SAVED FOREVER) ============= */
let events = JSON.parse(localStorage.getItem("menEvents")) || [];
const eventContainer = document.getElementById("eventCards");

function renderEvents(){
    eventContainer.innerHTML="";
    events.forEach((ev,index)=>{
        const card=document.createElement("div");
        card.className="event-card";
        card.innerHTML=`
            <h4>${ev.title}</h4>
            <p>${ev.time}</p>
            <button onclick="removeEvent(${index})" style="background:red;color:white;">Remove</button>
            <br>
            <input type="checkbox" id="push${index}" style="margin-top:5px;"> Send to Home
        `;
        eventContainer.appendChild(card);
    });
}
renderEvents();

function addEvent(){
    const title=document.getElementById("eventTitle").value.trim();
    const time=document.getElementById("eventTime").value.trim();
    if(title && time){
        events.push({title,time});
        localStorage.setItem("menEvents", JSON.stringify(events));
        document.getElementById("eventTitle").value="";
        document.getElementById("eventTime").value="";
        renderEvents();
    } else alert("Enter full event details");
}

function removeEvent(index){
    events.splice(index,1);
    localStorage.setItem("menEvents", JSON.stringify(events));
    renderEvents();
}

/* SEND EVENTS TO HOME PAGE */
function sendToHome(){
    let count = 0;
    events.forEach((ev,index)=>{
        const check = document.getElementById(`push${index}`);
        if(check && check.checked){
            let homeEvents = JSON.parse(localStorage.getItem("menHomeEvents")) || [];
            homeEvents.push(ev);
            localStorage.setItem("menHomeEvents", JSON.stringify(homeEvents));
            check.checked=false;
            count++;
        }
    });
    alert(count > 0 ? `${count} event(s) sent to home page!` : "No event selected.");
}
</script>

</body>
</html>
