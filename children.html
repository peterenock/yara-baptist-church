<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Yara Baptist Church - Children Department</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;padding:0;font-family:"Poppins",Arial,sans-serif;background:linear-gradient(135deg,#002b5c,#004aad,#0066cc);color:#fff;}
header{background:rgba(0,0,0,0.35);padding:20px;text-align:center;backdrop-filter:blur(5px);}
header h2{margin:0;font-size:36px;}
nav a{color:#fff;text-decoration:none;margin:0 15px;font-size:18px;padding:8px 14px;border-radius:8px;transition:0.3s;}
nav a:hover{background:rgba(255,255,255,0.2);}
.container{max-width:1000px;margin:50px auto;padding:0 20px;text-align:center;}
.content-box{background:rgba(255,255,255,0.15);padding:20px;border-radius:15px;line-height:1.6em;margin-bottom:20px;}
.events, .announcements, .registration{margin:30px auto;padding:20px;border-radius:15px;background:rgba(255,255,255,0.15);}
.events h3,.announcements h3,.registration h3{text-align:center;margin-bottom:15px;}
.event-cards{display:flex;flex-wrap:wrap;justify-content:center;gap:15px;}
.event-card{background:rgba(255,255,255,0.25);padding:15px;border-radius:15px;width:220px;transition:0.3s;text-align:center;}
.event-card:hover{background:rgba(255,255,255,0.35);transform:scale(1.05);}
input,textarea{padding:8px;border-radius:5px;border:none;margin:5px 0;width:90%;}
button{padding:8px 15px;border:none;border-radius:5px;background:#ffd700;cursor:pointer;margin-top:5px;}
footer{text-align:center;margin-top:50px;font-size:15px;opacity:0.6;}
@media(max-width:768px){.event-cards{flex-direction:column;align-items:center;}}
</style>
</head>
<body>

<header>
<h2>YARA BAPTIST CHURCH</h2>
<nav>
<a href="index.html">Home</a>
<a href="departments.html">Departments</a>
<a href="children.html">Children</a>
<a href="attendance.html">Attendance</a>
</nav>
</header>

<div class="container">
<h2 class="section-title">Children Department</h2>

<div class="content-box">
<h3>Purpose</h3>
<p>Engaging children in fellowship, learning, and spiritual growth activities.</p>
</div>

<div class="content-box">
<h3>Weekly Meetings</h3>
<p>Every Sunday at 10:00 AM in the church main hall.</p>
</div>

<!-- PASSWORD PROTECTION -->
<script>
const PASSWORD = "children2025";
const entered = prompt("Enter password to access Children Department:");
if(entered !== PASSWORD){
    alert("Incorrect password! Redirecting to Departments page.");
    window.location.href = "departments.html";
}
</script>

<!-- MEMBER REGISTRATION -->
<div class="registration">
<h3>Register as a Child Member</h3>
<input type="text" id="childName" placeholder="Child Full Name"><br>
<input type="date" id="childDOB" placeholder="Date of Birth"><br>
<input type="text" id="parentName" placeholder="Parent/Guardian Name" required><br>
<button onclick="registerChild()">Register</button>
</div>

<!-- ANNOUNCEMENTS -->
<div class="announcements">
<h3>Announcements / Important Info</h3>
<textarea id="announcementInput" placeholder="Add important info or announcement"></textarea><br>
<button onclick="addAnnouncement()">Add Announcement</button>
<div id="announcementList" style="margin-top:15px;"></div>
</div>

<!-- EVENTS -->
<div class="events">
<h3>Children Upcoming Events</h3>
<input type="text" id="eventTitle" placeholder="Event Title"><br>
<input type="text" id="eventTime" placeholder="Event Time / Date"><br>
<button onclick="addEvent()">Add Event</button>
<div class="event-cards" id="eventCards"></div>
<button onclick="sendToHome()" style="background:#00ff7f;color:#000;margin-top:15px;">Send Selected Events to Church Home Page</button>
</div>

</div>

<footer>&copy; 2025 Yara Baptist Church — Growing in Grace ✝️</footer>

<script>
// ====== CHILD REGISTRATION ======
function registerChild(){
    const name = document.getElementById("childName").value.trim();
    const dob = document.getElementById("childDOB").value.trim();
    const parent = document.getElementById("parentName").value.trim();
    if(!name || !dob || !parent){ alert("All fields are required."); return; }

    let childrenMembers = JSON.parse(localStorage.getItem("childrenMembers")) || [];
    childrenMembers.push({name, dob, parent});
    localStorage.setItem("childrenMembers", JSON.stringify(childrenMembers));

    alert("Child member registered successfully!");
    document.getElementById("childName").value = "";
    document.getElementById("childDOB").value = "";
    document.getElementById("parentName").value = "";
}

// ====== EVENTS ======
let events = JSON.parse(localStorage.getItem("childrenEvents")) || [{title:"Children Sunday School", time:"Every Sunday 10:00 AM"}];
const eventContainer = document.getElementById("eventCards");
function renderEvents(){
    eventContainer.innerHTML="";
    events.forEach((ev,index)=>{
        const card=document.createElement("div");
        card.className="event-card";
        card.innerHTML=`<h4>${ev.title}</h4><p>${ev.time}</p>
        <button onclick="removeEvent(${index})" style="background:red;color:white;">Remove</button>
        <br><input type="checkbox" id="push${index}" style="margin-top:5px;"> Send to Church Home`;
        eventContainer.appendChild(card);
    });
}
function addEvent(){
    const title=document.getElementById("eventTitle").value.trim();
    const time=document.getElementById("eventTime").value.trim();
    if(title && time){
        events.push({title,time});
        localStorage.setItem("childrenEvents", JSON.stringify(events));
        document.getElementById("eventTitle").value="";
        document.getElementById("eventTime").value="";
        renderEvents();
    } else { alert("Please enter both title and time"); }
}
function removeEvent(index){
    events.splice(index,1);
    localStorage.setItem("childrenEvents", JSON.stringify(events));
    renderEvents();
}
renderEvents();

// ====== ANNOUNCEMENTS ======
let announcements = JSON.parse(localStorage.getItem("childrenAnnouncements")) || [];
const announcementList=document.getElementById("announcementList");
function renderAnnouncements(){
    announcementList.innerHTML="";
    announcements.forEach((ann,index)=>{
        const div=document.createElement("div");
        div.style.background="rgba(255,255,255,0.2)";
        div.style.padding="10px"; div.style.marginBottom="10px"; div.style.borderRadius="8px";
        div.innerHTML=`${ann} <button onclick="removeAnnouncement(${index})" style="background:red;color:white;padding:3px 8px;border:none;border-radius:5px;float:right;">Remove</button>`;
        announcementList.appendChild(div);
    });
}
function addAnnouncement(){
    const text=document.getElementById("announcementInput").value.trim();
    if(text){
        announcements.push(text);
        localStorage.setItem("childrenAnnouncements", JSON.stringify(announcements));
        document.getElementById("announcementInput").value="";
        renderAnnouncements();
    } else { alert("Please type an announcement"); }
}
function removeAnnouncement(index){
    announcements.splice(index,1);
    localStorage.setItem("childrenAnnouncements", JSON.stringify(announcements));
    renderAnnouncements();
}

// ====== SEND EVENTS TO HOME ======
function sendToHome(){
    let sentCount=0;
    events.forEach((ev,index)=>{
        const checkbox=document.getElementById(`push${index}`);
        if(checkbox && checkbox.checked){
            let homeEvents = JSON.parse(localStorage.getItem("childrenHomeEvents")) || [];
            homeEvents.push(ev);
            localStorage.setItem("childrenHomeEvents", JSON.stringify(homeEvents));
            checkbox.checked=false;
            sentCount++;
        }
    });
    if(sentCount>0) alert(sentCount+" event(s) sent to Church Home Page!");
    else alert("Select at least one event to send.");
}
</script>

</body>
</html>
